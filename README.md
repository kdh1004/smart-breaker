# smart-breaker

## 1. 프로젝트 목적 및 필요성
# 1.1 목적
- 이 프로젝트를 수행 목적 (정보통신공학 종합 설계의 목적)
어린이보호구역 내에서의 교통사고 해마다 증가, 어린이보호구역 내 횡단보도에 차단기를 설치함으로서 무단횡단 사고를 미연에 방지
# 1.2 필요성
- 왜 이러한 프로젝트 가 필요한가 ?
녹색어머니회가 등하교 시 교통지도를 해주고 있었으나, 최근 녹색어머니회의 인력이 부족한 상황
- 기존의 제품들은 어떤 수준이며, 어떤 수준으로 개선되어야 하는가 ?
기존의 녹색어머니회가 하던 일을 차단기 시스템를 만들어서 경비실에서 원격으로 차단기를 조작하는 방식으로 무인화

## 2. 종합설계 목표
# 2.1 핵심 기능 및 성능 목표
- 핵심 필수 기능
- 각 기능항목별 성능 목표

핵심 필수 기능
성능 목표
고려사항
클라이언트에서 차단기로의 상태 조작 기능
별도의 스레드를 구성하여 1초 이내로 명령을 전달받아 동작
On, Off 이외의 요청을 보낼 경우 잘못된 요청이라는 문구를 표시 후 다시 요청을 받을 준비
차단기의 실시간 상태 표시
1초 이내 차단기에 연결된 모터, 그래픽 LCD, 피에조 부저가 해당 동작에 맞게 작동
차단기에 연결된 모터, 그래픽 LCD, 피에조 부저가 바뀐 상태의 동작에 맞게 작동
차단기에서 클라이언트로의 비상 메시지 요청
비상 버튼을 누르면 클라이언트와 차단기에 동시에 “EMERGENCY”  응답이 나타나며 경비실과 차단기는 그에 맞는 동작을 함
비상 버튼은 차단기의 상태에 상관없이 항상 작동이 가능해야 함, 카메라의 영상을 실시간으로 스트리밍

# 2.2 기타 (구현 가격, 디자인 등) 목표
- 구현 가격, 디자인 등의 목표
차단기 모형화 사진 첨부
현재 모형은 예산인 20만원 안팎으로 나오며, 실제로 제품을 만들 경우 20만원을 훨씬 상회할 것으로 예상됨

## 3. 종합설계 프로젝트 구성 요소 및 제한 요소, 구현 사양

핵심 구성 요소
정보통신공학 핵심 분야
비고(참고사항)
양방향 웹소켓 통신
컴퓨터네트워크

차단기 상태 표시
임베디드 시스템

비상 버튼 구현
임베디드 시스템



# 3.2 제한 요소 

핵심 구성 요소
제한요소 (구현방법, 가격 등)
비고(참고사항)
차단기와 클라이언트 간 통신
클라이언트에서 차단기로 동작이 원활하게 이루어지도록 한다.

차단기의 실시간 상태 표시
차단기와 클라이언트에 현재 차단기의 상태를 그래픽 LCD와 피에조 부저를 활용하여 표현해준다.

차단기 비상 버튼 구현
차단기에 설치된 비상 버튼을 누를 경우 “EMERGENCY” 표시와 동시에 차단기의 카메라 화면을 클라이언트에서 실시간으로 확인이 가능하다.



# 3.3 구현 사양 (spec)

핵심 구성 요소
구현 사양 (필수 기능/성능) 
비고(참고사항)
클라이언트에서 차단기로의 상태 조작 기능
별도의 스레드를 구성하여 1초 이내로 명령을 전달받아 동작
잘못된 응답을 받을 경우의 케이스 추가
차단기의 실시간 상태 표시
1초 이내 차단기에 연결된 모터, 그래픽LCD, 피에조 부저가 해당 동작에 맞게 작동

차단기에서 클라이언트로의 비상 메시지 요청
비상 버튼을 누르면 경비실과 차단기에 동시에 “EMERGENCY” 응답이 나타나며 카메라에 영상을 스트리밍
카메라 스트리밍 코드 추가

# 4.2 구성원의 역할

핵심 구성 요소
구현 방법
담당자(구성원)
클라이언트에서 차단기로의 상태 조작 기능
라즈베리파이에서 서버를 만들고 클라이언트를 경비실 os에서 만들어서 둘을 서로 연결 후 조작하는 코드를 만듦

차단기의 실시간 상태 표시
라즈베리파이 서버에 아두이노를 연결 후 아두이노에 그래픽 LCD, 피에조 부저, 전동모터를 설치하여 차단기의 상태를 나타냄

차단기에서 클라이언트로의 비상 메시지 요청
아두이노에 스위치 버튼을 설치, 스위치 버튼을 눌렀을 때 서버와 클라이언트에서 반응하는 코드를 만듦

# 8.2 최종 시연 내용

시연 항목
주요 시연 기능 
시연 내용 (성능 포함)
클라이언트에서 차단기로의 상태 조작 기능
클라이언트에서 차단기로 동작이 원활하게 이루어지도록 한다.
클라이언트의 커멘드 창에서 on, off를 입력하였을 때 차단기의 상태가 바뀌는 것을 보여준다. 이때 별도의 스레드를 구성하여 2초 이내로 명령을 전달받아 동작한다. on, off 외의 명령을 입력하면 잘못된 요청이라는 메시지를 표시 후 다시 입력받을 수 있게 한다.
차단기의 실시간 상태 표시
차단기에 현재 차단기의 상태를 그래픽 LCD와 피에조 부저를 활용하여 표현해준다.
on, off 입력 이후 차단기의 상태가 바뀌고 2초 이내 차단기에 연결된 모터, 그래픽 LCD, 피에조 부저가 해당 동작에 맞게 작동한다.
차단기에서 클라이언트로의 비상 메시지 요청
차단기의 비상 버튼을 누를 경우 “EMERGENCY” 응답이 나타나며 카메라 화면을 실시간으로 클라이언트에서 확인이 가능하다.
차단기의 비상 버튼을 누르면 클라이언트와 차단기에 동시에 “EMERGENCY” 응답이 나타나며 차단기에서는 경고 부저가 울리고 그래픽 LCD에 “EMERGENCY” 문구가 표시되며 클라이언트의 화면에서는 차단기의 카메라 화면 창을 출력하여 실시간으로 영상을 보여준다.

# 9.1 프로젝트 결과물의 성능 분석
- 당초에 설계목표로 설정하였던 항목이 달성되었는가 ?
- 각 항목별로 분석할 것
- 달성을 하지 못한 경우, 그 이유를 설명할 것

핵심 필수 기능
당초 성능 목표
구현된 성능
달성 여부 분석
클라이언트에서 차단기로의 상태 조작 기능
별도의 스레드를 구성하여 1초 이내로 명령을 전달받아 동작
1초 이내 양방향 웹소켓 통신 가능
100% 달성함
차단기의 실시간 상태 표시
1초 이내 차단기에 연결된 모터, 그래픽 LCD, 피에조 부저가 해당 동작에 맞게 작동
1초 이내 모든 장치가 동작함
100% 달성함
차단기에서 클라이언트로의 비상 메시지 요청
차단기의 비상 버튼을 누르면 커멘드 창과 차단기의 그래픽 LCD에 동시에 “EMERGENCY” 응답이 나타나며 카메라의 영상을 스트리밍
“EMERGENCY“ 응답이 나타남과 동시에 그에 맞는 모든 동작을 함
100% 달성함

# https://youtu.be/VBvnnlvqdYc
